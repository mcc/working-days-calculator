(this["webpackJsonpdate-calculator"]=this["webpackJsonpdate-calculator"]||[]).push([[0],{113:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a.n(c),s=a(10),i=a.n(s),l=(a(71),a(72),a(8)),o=a(5),d=a.n(o),j="#4360FB",u="START",b="END",O="D_DAY_SETTINGS",f="YYYY/MM/DD",v=a(23),h=a(20),m=function(e){var t=e.children,a=e.className,c=e.align,r=Object(h.a)(e,["children","className","align"]),s="align-".concat(c),i="card ".concat(a||""," ").concat(s);return Object(n.jsx)("div",Object(v.a)(Object(v.a)({className:i},r),{},{children:t}))};m.defaultProps={children:Object(n.jsx)("div",{}),align:"center"};var x=m,p=function(e){var t=e.children,a=Object(h.a)(e,["children"]);return Object(n.jsx)("span",Object(v.a)(Object(v.a)({className:"text"},a),{},{children:t}))},g=function(e){var t=e.type,a=e.value,c=e.onChange,r=e.placeholder,s=e.readOnly;Object(h.a)(e,["type","value","onChange","placeholder","readOnly"]);return Object(n.jsx)("input",{type:t,value:a,placeholder:r,readOnly:s,onChange:c})};g.defaultProps={type:"text",value:"",readOnly:!1};var y=g,N=a(7),D=a(142),S=a(39),C=function(e){var t=e.title,a=e.onClick;return Object(n.jsxs)("div",{className:"info",children:[Object(n.jsxs)(p,{children:[" ",t]}),Object(n.jsx)("i",{className:"icon-settings",onClick:a})]})},w=function(e){var t=e.id,a=e.name,c=e.value,r=e.onChange,s=e.onToggleCalendar,i=c&&d()(c).format(f);return Object(n.jsxs)("div",{className:"date-wrapper",children:[Object(n.jsxs)(p,{children:[a," "]}),Object(n.jsxs)("div",{className:"date",children:[Object(n.jsx)(y,{type:"text",value:i,placeholder:f,readOnly:!0}),Object(n.jsx)("i",{className:"icon-calendar",onClick:function(){return s(t)}}),Object(n.jsx)(D.a,{variant:"outlined",color:"primary",onClick:function(){return r(t,d()().set({hour:0,minute:0,second:0}).toDate())},children:"Today"}),Object(n.jsx)(S.a,{className:"hide",value:c,locale:"en-US",minDetail:"month",nextLabel:Object(n.jsx)("i",{className:"icon-caret-right"}),prevLabel:Object(n.jsx)("i",{className:"icon-caret-right flip"}),next2Label:Object(n.jsx)("div",{}),prev2Label:Object(n.jsx)("div",{}),showNeighboringMonth:!1,onChange:function(e){r(t,e),s(t)}})]})]})},Y=function(e){var t=e.startDate,a=e.endDate,r=e.onDateChange,s=e.onCalculate,i=e.onOpenSettings,o=e.title,d=Object(c.useState)(!1),O=Object(l.a)(d,2),f=(O[0],O[1],Object(c.useState)(null)),v=Object(l.a)(f,2),h=(v[0],v[1],Object(N.a)({root:{backgroundColor:j}})(D.a));Object(c.useEffect)((function(){return window.addEventListener("resize",m),function(){return window.removeEventListener("resize",m)}}),[]);var m=function(){var e=350,t=document.querySelector(".react-calendar:not(.hide)");if(t){var a=t.previousElementSibling.previousElementSibling.getBoundingClientRect(),n=a.height,c=a.left,r=a.top;t.style.top="".concat(r+n+13,"px");var s=document.body.clientWidth;s<420?(e-=40,t.style.width="".concat(e,"px"),t.style.left="".concat((s-e)/2,"px")):(t.style.left="".concat(c-e/2+13,"px"),t.style.width="".concat(e,"px"))}},p=function(e){var t=document.getElementsByClassName("react-calendar"),a=Object(l.a)(t,2),n=a[0],c=a[1];e===u&&(n.classList.contains("hide")?(n.classList.remove("hide"),c.classList.add("hide"),m(u)):n.classList.add("hide"));e===b&&(c.classList.contains("hide")?(c.classList.remove("hide"),m(b)):c.classList.add("hide"))};return Object(n.jsxs)(x,{className:"date-selector",children:[Object(n.jsx)(C,{title:o,onClick:i}),Object(n.jsx)(w,{id:u,name:"Start Date",value:t,onChange:r,onOpenCalendar:p,onToggleCalendar:p}),Object(n.jsx)(w,{id:b,name:"End Date",value:a,onChange:r,onOpenCalendar:p,onToggleCalendar:p}),Object(n.jsx)(h,{variant:"contained",color:"primary",onClick:s,children:"Calculate"})]})},E=a(138),k=Object(N.a)((function(e){return{root:{height:"1.5rem",borderRadius:5},colorPrimary:{backgroundColor:"white"},bar:{borderRadius:5,backgroundColor:j}}}))(E.a),M=function(e){var t=e.value,a=Object(c.useState)(0),r=Object(l.a)(a,2),s=r[0],i=r[1];return Object(c.useEffect)((function(){var e=setInterval((function(){i((function(e){return e>=t?t:e+5}))}),100);return function(){clearInterval(e)}}),[t]),Object(n.jsxs)("div",{className:"progress-bar",children:[Object(n.jsx)(k,{variant:"determinate",value:s}),Object(n.jsxs)("span",{children:[" ",t||0,"%"]})]})},L=a(141),T=a(144),I=a(139),R=a(140),B=function(e){var t=e.open,a=e.settings,r=e.onClose,s=e.onSave,i=Object(c.useState)(d()(a.endDate).toDate()),o=Object(l.a)(i,2),j=o[0],u=o[1],b=Object(c.useState)(a.title),O=Object(l.a)(b,2),f=O[0],v=O[1],h=Object(c.useState)(!1),m=Object(l.a)(h,2),x=m[0],p=m[1],g=j&&d()(j).format("YYYY/MM/DD");return Object(n.jsxs)(L.a,{maxWidth:"xs",fullWidth:!0,open:t,className:"settings-modal",children:[Object(n.jsx)(T.a,{children:" D-Day Settings"}),Object(n.jsxs)(I.a,{children:[Object(n.jsxs)("div",{className:"settings",children:[Object(n.jsx)("div",{className:"title",children:" D-Day Title"}),Object(n.jsx)(y,{type:"text",value:f||"",onChange:function(e){return t="title",a=e.target.value,void("title"===t&&v(a));var t,a}})]}),Object(n.jsxs)("div",{className:"settings",children:[Object(n.jsx)("div",{className:"title",children:" End Date"}),Object(n.jsx)(y,{type:"text",value:g||"",placeholder:"YYYY/MM/DD",readOnly:!0}),Object(n.jsx)("i",{className:"icon-calendar",onClick:function(){p((function(e){return!e}))}})]}),x&&Object(n.jsx)(S.a,{value:j,locale:"en-US",minDetail:"month",showNeighboringMonth:!1,onChange:function(e){u(e)}})]}),Object(n.jsxs)(R.a,{children:[Object(n.jsx)(D.a,{onClick:r,color:"primary",children:"Cancel"}),Object(n.jsx)(D.a,{onClick:function(){return s({title:f,date:j})},color:"primary",children:"Save"})]})]})},A=function(e){var t=e.title,a=e.value;return Object(n.jsxs)("div",{className:"time-card",children:[Object(n.jsxs)("div",{className:"time",children:[" ",a]}),Object(n.jsxs)("div",{className:"type",children:[" ",t," "]})]})},F=function(){return Object(n.jsx)("div",{className:"colon",children:Object(n.jsx)("i",{className:"icon-colon"})})},J=function(e){var t=e.endDate,a=Object(c.useState)({}),r=Object(l.a)(a,2),s=r[0],i=r[1],o=null;Object(c.useEffect)((function(){return o=setInterval((function(){var e=d()(t),a=d()(),n=e.diff(a),c=Math.floor(n/1e3%60),r=Math.floor(n/1e3/60)%60,s=Math.floor(n/36e5%24),l=Math.floor(n/864e5);i({days:isNaN(l)?"-":l,hours:isNaN(s)?"-":s,minutes:isNaN(r)?"-":r,seconds:isNaN(c)?"-":c})}),1e3),function(){o&&clearInterval(o)}}),[t]);var j=s.days,u=void 0===j?"-":j,b=s.hours,O=void 0===b?"-":b,f=s.minutes,v=void 0===f?"-":f,h=s.seconds,m=void 0===h?"-":h;return Object(n.jsxs)(x,{className:"gradient time-counter",children:[Object(n.jsx)(A,{title:"DAYS",value:u}),Object(n.jsx)(F,{}),Object(n.jsx)(A,{title:"HOURS",value:O}),Object(n.jsx)(F,{}),Object(n.jsx)(A,{title:"MINUTES",value:v}),Object(n.jsx)(F,{}),Object(n.jsx)(A,{title:"SECONDS",value:m})]})},U=a(59),W=a(58),z=a.n(W),H=function(e){var t=[];return e.forEach((function(e){var a=e.start,n=e.end,c=e.name;"\uc124\ub0a0"!==c&&"\ucd94\uc11d"!==c||(a=d()(a).subtract(1,"days"),n=d()(a).add(3,"days"));for(var r=d()(n).diff(d()(a),"days"),s=0;s<r;s++)t.push({date:d()(a).add(s,"days").format("YYYY-MM-DD"),name:c})})),t},P=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(null),i=Object(l.a)(s,2),o=i[0],j=i[1],v=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e})),t.current}(o),h=Object(c.useState)("-"),m=Object(l.a)(h,2),p=m[0],g=m[1],y=Object(c.useState)("-"),N=Object(l.a)(y,2),D=N[0],S=N[1],C=Object(c.useState)(0),w=Object(l.a)(C,2),E=w[0],k=w[1],L=Object(c.useState)(!1),T=Object(l.a)(L,2),I=T[0],R=T[1],A=Object(c.useState)({}),F=Object(l.a)(A,2),W=F[0],P=F[1],G=Object(c.useState)(!1),X=Object(l.a)(G,2),_=X[0],q=X[1];Object(c.useEffect)((function(){K()}),[]),Object(c.useEffect)((function(){var e=d()(a).format(f)===d()().format(f),t=d()(v).format(f)===d()(o).format(f);e&&t||q(!1)}),[a,o]);var K=function(){var e=function(e){if(e&&""!==e){var t=localStorage.getItem(e);return t?JSON.parse(t):void 0}}(O);if(e){var t=e.endDate.split("/"),a=Object(l.a)(t,3),n=a[0],c=a[1],s=a[2];r(d()().set({h:0,m:0,s:0}).toDate()),j(d()({year:n,month:c-1,date:s}).toDate()),P(e)}},V=function(){R((function(e){return!e}))};return Object(n.jsx)("div",{className:"main-content",children:Object(n.jsxs)("div",{className:"content-wrapper",children:[Object(n.jsx)(Y,{startDate:a,endDate:o,title:W.title,onDateChange:function(e,t){e===u&&r(t),e===b&&j(t)},onCalculate:function(){if(a&&o&&!(o<a)){var e=function(e,t){var a=new z.a;a.init("KR");for(var n=d()(e).year(),c=d()(t).year(),r=[],s=[],i=0;i<=c-n;i++)r.push(n+i);r.forEach((function(e){var t;return(t=s).push.apply(t,Object(U.a)(a.getHolidays(e)))}));var l=0;s=H(s);for(var o=d()(t).diff(d()(e),"days"),j=function(t){var a=d()(e).add(t,"days");s.find((function(e){return e.date===a.format("YYYY-MM-DD")}))||6===a.day()||0===a.day()||l++},u=0;u<o+1;u++)j(u);return{workDays:l,calendarDays:o}}(a,o);S(e.calendarDays||"-"),g(e.workDays||"-");var t=d()(o).subtract(2,"years"),n=(d()(a).diff(d()(t),"days")+1)/730*100;k(Number.parseFloat(n.toFixed(1))),d()(a).format(f)===d()().format(f)&&q(!0)}},onOpenSettings:V}),Object(n.jsxs)(x,{align:"left",children:[Object(n.jsx)("i",{className:"icon-work"}),p," working days"]}),Object(n.jsxs)(x,{align:"left",children:[Object(n.jsx)("i",{className:"icon-date"}),D," calendar days"]}),Object(n.jsx)(M,{value:E}),Object(n.jsx)(J,{endDate:_?o:null}),I&&Object(n.jsx)(B,{open:I,settings:W,onClose:V,onSave:function(e){var t=e.title,a=e.date,n={title:t,endDate:d()(a).format(f)};!function(e,t){if(e&&""!==e){var a=JSON.stringify(t);localStorage.setItem(e,a)}}(O,n),V(),K()}})]})})},G=a(44);a.p;var X=function(){return Object(c.useEffect)((function(){G.a.initialize("G-HXVX2W66FB"),G.a.pageview(window.location.pathname+window.location.search)}),[]),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(P,{})})};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(X,{})}),document.getElementById("root"))},71:function(e,t,a){}},[[113,1,2]]]);
//# sourceMappingURL=main.6c884a99.chunk.js.map