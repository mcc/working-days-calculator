(this["webpackJsonpdate-calculator"]=this["webpackJsonpdate-calculator"]||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a.n(c),s=a(11),i=a.n(s),o=(a(79),a(80),a(9)),l=a(6),j=a.n(l),u="#4360FB",d="START",b="D_DAY_SETTINGS",O="YYYY/MM/DD",f=a(18),h=a(20),v=function(e){var t=e.children,a=e.className,c=e.align,r=Object(h.a)(e,["children","className","align"]),s="align-".concat(c),i="card ".concat(a||""," ").concat(s);return Object(n.jsx)("div",Object(f.a)(Object(f.a)({className:i},r),{},{children:t}))};v.defaultProps={children:Object(n.jsx)("div",{}),align:"center"};var x=v,m=function(e){var t=e.children,a=Object(h.a)(e,["children"]);return Object(n.jsx)("span",Object(f.a)(Object(f.a)({className:"text"},a),{},{children:t}))},p=function(e){var t=e.type,a=e.value,c=e.onChange,r=e.placeholder,s=e.readOnly;Object(h.a)(e,["type","value","onChange","placeholder","readOnly"]);return Object(n.jsx)("input",{type:t,value:a,placeholder:r,readOnly:s,onChange:c})};p.defaultProps={type:"text",value:"",readOnly:!1};var g=p,y=a(7),N=a(152),D=a(146),C=a(148),S=a(147),Y=a(60),k=a.n(Y),M=a(125),w=a(39),E=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,c=e.onClose,r=Object(h.a)(e,["children","classes","onClose"]);return Object(n.jsxs)(D.a,Object(f.a)(Object(f.a)({disableTypography:!0,className:a.root},r),{},{children:[Object(n.jsx)(M.a,{variant:"h6",children:t}),c?Object(n.jsx)(S.a,{"aria-label":"close",className:a.closeButton,onClick:c,children:Object(n.jsx)(k.a,{})}):null]}))})),I=function(e){var t=e.open,a=e.onClose,c=e.id,r=e.value,s=e.onChange,i=c===d?"Start Date":"End Date";return Object(n.jsxs)(N.a,{maxWidth:"xs",fullWidth:!0,open:t,onClose:function(){return a(null)},className:"calendar-modal",children:[Object(n.jsxs)(E,{onClose:function(){return a(null)},children:[i," "]}),Object(n.jsx)(C.a,{dividers:!0,children:Object(n.jsx)(w.a,{value:r,locale:"en-US",minDetail:"month",showNeighboringMonth:!1,onChange:function(e){s(c,e)}})})]})},T=a(149),R=function(e){var t=e.title,a=e.onClick;return Object(n.jsxs)("div",{className:"info",children:[Object(n.jsxs)(m,{children:[" ",t]}),Object(n.jsx)("i",{className:"icon-settings",onClick:a})]})},B=function(e){var t=e.id,a=e.name,c=e.value,r=e.onChange,s=e.onOpenCalendar,i=c&&j()(c).format(O);return Object(n.jsxs)("div",{className:"date-wrapper",children:[Object(n.jsxs)(m,{children:[a," "]}),Object(n.jsxs)("div",{className:"date",children:[Object(n.jsx)(g,{type:"text",value:i,placeholder:O,readOnly:!0}),Object(n.jsx)("i",{className:"icon-calendar",onClick:function(){return s(t)}}),Object(n.jsx)(T.a,{variant:"outlined",color:"primary",onClick:function(){return r(t,j()().set({hour:0,minute:0,second:0}).toDate())},children:"Today"})]})]})},W=function(e){var t=e.startDate,a=e.endDate,r=e.onDateChange,s=e.onCalculate,i=e.onOpenSettings,l=e.title,j=Object(c.useState)(!1),b=Object(o.a)(j,2),O=b[0],f=b[1],h=Object(c.useState)(null),v=Object(o.a)(h,2),m=v[0],p=v[1],g=Object(y.a)({root:{backgroundColor:u}})(T.a),N=function(e){f((function(e){return!e})),p(e)};return Object(n.jsxs)(x,{className:"date-selector",children:[Object(n.jsx)(R,{title:l,onClick:i}),Object(n.jsx)(B,{id:d,name:"Start Date",value:t,onChange:r,onOpenCalendar:N}),Object(n.jsx)(B,{id:"END",name:"End Date",value:a,onChange:r,onOpenCalendar:N}),Object(n.jsx)(g,{variant:"contained",color:"primary",onClick:s,children:"Calculate"}),O&&Object(n.jsx)(I,{open:O,onClose:N,id:m,value:m===d?t:a,onChange:function(e,t){r(e,t),N(null)}})]})},A=a(150),F=Object(y.a)((function(e){return{root:{height:"1.5rem",borderRadius:5},colorPrimary:{backgroundColor:"white"},bar:{borderRadius:5,backgroundColor:u}}}))(A.a),J=function(e){var t=e.value,a=Object(c.useState)(0),r=Object(o.a)(a,2),s=r[0],i=r[1];return Object(c.useEffect)((function(){var e=setInterval((function(){i((function(e){return e>=t?t:e+5}))}),100);return function(){clearInterval(e)}}),[t]),Object(n.jsxs)("div",{className:"progress-bar",children:[Object(n.jsx)(F,{variant:"determinate",value:s}),Object(n.jsxs)("span",{children:[" ",t||0,"%"]})]})},U=a(151),H=function(e){var t=e.open,a=e.settings,r=e.onClose,s=e.onSave,i=Object(c.useState)(j()(a.endDate).toDate()),l=Object(o.a)(i,2),u=l[0],d=l[1],b=Object(c.useState)(a.title),O=Object(o.a)(b,2),f=O[0],h=O[1],v=Object(c.useState)(!1),x=Object(o.a)(v,2),m=x[0],p=x[1],y=u&&j()(u).format("YYYY/MM/DD");return Object(n.jsxs)(N.a,{maxWidth:"xs",fullWidth:!0,open:t,className:"settings-modal",children:[Object(n.jsx)(D.a,{children:" D-Day Settings"}),Object(n.jsxs)(C.a,{children:[Object(n.jsxs)("div",{className:"settings",children:[Object(n.jsx)("div",{className:"title",children:" D-Day Title"}),Object(n.jsx)(g,{type:"text",value:f||"",onChange:function(e){return t="title",a=e.target.value,void("title"===t&&h(a));var t,a}})]}),Object(n.jsxs)("div",{className:"settings",children:[Object(n.jsx)("div",{className:"title",children:" End Date"}),Object(n.jsx)(g,{type:"text",value:y||"",placeholder:"YYYY/MM/DD",readOnly:!0}),Object(n.jsx)("i",{className:"icon-calendar",onClick:function(){p((function(e){return!e}))}})]}),m&&Object(n.jsx)(w.a,{value:u,locale:"en-US",minDetail:"month",showNeighboringMonth:!1,onChange:function(e){d(e)}})]}),Object(n.jsxs)(U.a,{children:[Object(n.jsx)(T.a,{onClick:r,color:"primary",children:"Cancel"}),Object(n.jsx)(T.a,{onClick:function(){return s({title:f,date:u})},color:"primary",children:"Save"})]})]})},P=function(e){var t=e.title,a=e.value;return Object(n.jsxs)("div",{className:"time-card",children:[Object(n.jsxs)("div",{className:"time",children:[" ",a]}),Object(n.jsxs)("div",{className:"type",children:[" ",t," "]})]})},G=function(){return Object(n.jsx)("div",{className:"colon",children:Object(n.jsx)("i",{className:"icon-colon"})})},X=function(e){var t=e.endDate,a=Object(c.useState)({}),r=Object(o.a)(a,2),s=r[0],i=r[1],l=null;Object(c.useEffect)((function(){return l=setInterval((function(){var e=j()(t),a=j()(),n=e.diff(a),c=Math.floor(n/1e3%60),r=Math.floor(n/1e3/60)%60,s=Math.floor(n/36e5%24),o=Math.floor(n/864e5);i({days:isNaN(o)?"-":o,hours:isNaN(s)?"-":s,minutes:isNaN(r)?"-":r,seconds:isNaN(c)?"-":c})}),1e3),function(){l&&clearInterval(l)}}),[t]);var u=s.days,d=void 0===u?"-":u,b=s.hours,O=void 0===b?"-":b,f=s.minutes,h=void 0===f?"-":f,v=s.seconds,m=void 0===v?"-":v;return Object(n.jsxs)(x,{className:"gradient time-counter",children:[Object(n.jsx)(P,{title:"DAYS",value:d}),Object(n.jsx)(G,{}),Object(n.jsx)(P,{title:"HOURS",value:O}),Object(n.jsx)(G,{}),Object(n.jsx)(P,{title:"MINUTES",value:h}),Object(n.jsx)(G,{}),Object(n.jsx)(P,{title:"SECONDS",value:m})]})},_=a(62),z=a(61),K=a.n(z),V=function(e){var t=[];return e.forEach((function(e){var a=e.start,n=e.end,c=e.name;"\uc124\ub0a0"!==c&&"\ucd94\uc11d"!==c||(a=j()(a).subtract(1,"days"),n=j()(a).add(3,"days"));for(var r=j()(n).diff(j()(a),"days"),s=0;s<r;s++)t.push({date:j()(a).add(s,"days").format("YYYY-MM-DD"),name:c})})),t},q=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(null),i=Object(o.a)(s,2),l=i[0],u=i[1],f=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e})),t.current}(l),h=Object(c.useState)("-"),v=Object(o.a)(h,2),m=v[0],p=v[1],g=Object(c.useState)("-"),y=Object(o.a)(g,2),N=y[0],D=y[1],C=Object(c.useState)(0),S=Object(o.a)(C,2),Y=S[0],k=S[1],M=Object(c.useState)(!1),w=Object(o.a)(M,2),E=w[0],I=w[1],T=Object(c.useState)({}),R=Object(o.a)(T,2),B=R[0],A=R[1],F=Object(c.useState)(!1),U=Object(o.a)(F,2),P=U[0],G=U[1];Object(c.useEffect)((function(){z()}),[]),Object(c.useEffect)((function(){var e=j()(a).format(O)===j()().format(O),t=j()(f).format(O)===j()(l).format(O);e&&t||G(!1)}),[a,l]);var z=function(){var e=function(e){if(e&&""!==e){var t=localStorage.getItem(e);return t?JSON.parse(t):void 0}}(b);if(e){var t=e.endDate.split("/"),a=Object(o.a)(t,3),n=a[0],c=a[1],s=a[2];r(j()().set({h:0,m:0,s:0}).toDate()),u(j()({year:n,month:c-1,date:s}).toDate()),A(e)}},q=function(){I((function(e){return!e}))};return Object(n.jsx)("div",{className:"main-content",children:Object(n.jsxs)("div",{className:"content-wrapper",children:[Object(n.jsx)(W,{startDate:a,endDate:l,title:B.title,onDateChange:function(e,t){console.log(e,t),e===d&&r(t),"END"===e&&u(t)},onCalculate:function(){if(a&&l&&!(l<a)){var e=function(e,t){var a=new K.a;a.init("KR");for(var n=j()(e).year(),c=j()(t).year(),r=[],s=[],i=0;i<=c-n;i++)r.push(n+i);r.forEach((function(e){var t;return(t=s).push.apply(t,Object(_.a)(a.getHolidays(e)))}));var o=0;s=V(s);for(var l=j()(t).diff(j()(e),"days"),u=function(t){var a=j()(e).add(t,"days");s.find((function(e){return e.date===a.format("YYYY-MM-DD")}))||6===a.day()||0===a.day()||o++},d=0;d<l+1;d++)u(d);return{workDays:o,calendarDays:l}}(a,l);D(e.calendarDays||"-"),p(e.workDays||"-");var t=j()(l).subtract(2,"years"),n=(j()(a).diff(j()(t),"days")+1)/730*100;k(Number.parseFloat(n.toFixed(1))),j()(a).format(O)===j()().format(O)&&G(!0)}},onOpenSettings:q}),Object(n.jsxs)(x,{align:"left",children:[Object(n.jsx)("i",{className:"icon-work"}),m," working days"]}),Object(n.jsxs)(x,{align:"left",children:[Object(n.jsx)("i",{className:"icon-date"}),N," calendar days"]}),Object(n.jsx)(X,{endDate:P?l:null}),Object(n.jsx)(J,{value:Y}),E&&Object(n.jsx)(H,{open:E,settings:B,onClose:q,onSave:function(e){var t=e.title,a=e.date,n={title:t,endDate:j()(a).format(O)};!function(e,t){if(e&&""!==e){var a=JSON.stringify(t);localStorage.setItem(e,a)}}(b,n),q(),z()}})]})})},L=a(44);a.p;var Q=function(){return Object(c.useEffect)((function(){L.a.initialize("G-HXVX2W66FB"),L.a.pageview(window.location.pathname+window.location.search)}),[]),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(q,{})})};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Q,{})}),document.getElementById("root"))},79:function(e,t,a){}},[[123,1,2]]]);
//# sourceMappingURL=main.5c8ff85e.chunk.js.map